<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data noupdate="0">

        <!-- Server Action to set the default values -->
        <record id="action_set_default_directories" model="ir.actions.server">
            <field name="name">Set Default Directories</field>
            <field name="model_id" ref="base.model_ir_config_parameter"/>
            <field name="state">code</field>
            <field name="code">
                env['ir.config_parameter'].sudo().set_param('bemade_git_repos_addons.clone_dir', '.repos')
                env['ir.config_parameter'].sudo().set_param('bemade_git_repos_addons.addons_dir', 'addons')
            </field>
        </record>

        <!-- Automated Action -->
        <record id="action_on_module_installation" model="base.automation">
            <field name="name">On Module Installation</field>
            <field name="model_id" ref="base.model_ir_module_module"/>
            <field name="trigger">on_create</field>
            <field name="filter_domain">[('name', '=', 'bemade_git_repos_addons'), ('state', '=', 'installed')]</field>
            <field name="action_server_id" ref="action_set_default_directories"/>
        </record>

    </data>
</odoo>